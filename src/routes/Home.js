import React from "react";
import axios from "axios";
import Movie from "../components/Movie";
// import  "./App.css";
class Home extends React.Component{

state ={
  isLoading: true,
  movies:[],
};

getMovies= async()=>{
  const {
    data:{
      data:{movies}
    }
  } = await axios.get('https://yts.mx/api/v2/list_movies.json?sort_by=rating');
  // console.log(movies);

  this.setState({isLoading:false, movies:movies});
}

componentDidMount(){
  // setTimeout(function(){
  //   this.setState({isLoading:false});
  // }, 3000);
  // setTimeout(()=>{
  //   this.setState({isLoading: false});
  // },3000);
 this.getMovies();   
}

render(){
  
  //const isLoading =this.state.isLoading;
  const{isLoading, movies}=this.state;
  
  return(
    <section className='container'>
      {isLoading ?(
      <div className='loader'>
        <img src="data:image/gif;base64,R0lGODlhQAFAAfcAAAAAAP///9ra2k9PT/Hx8dDQ0Pb29oiIiOfn59jY2NHR0QEBARkZGQICArm5uQoKCjAwMP39/fr6+khISMPDwykpKeDg4DY2Np2dnb+/v29vbzw8PGRkZHJycjU1NdbW1vf39/Pz89fX19/f31BQUFFRUejo6ImJieXl5cnJyf7+/i0tLdLS0gkJCVtbW93d3WhoaBYWFs3NzZOTk2dnZ46OjlZWVpaWliYmJnd3d9XV1e/v78rKyvX19XR0dO3t7bu7u1dXV+Pj47y8vMfHx0lJSZqamvj4+Pn5+b29vfDw8Kqqqubm5ri4uKOjo6SkpOzs7H5+fjExMbq6ukZGRkREREdHR+vr69nZ2YSEhJKSknt7e6ampiUlJenp6fz8/Hp6equrqxwcHBsbG6ysrL6+vh4eHrGxsbKyssjIyOTk5FxcXEJCQjg4OOLi4p+fn9TU1Hx8fCwsLLS0tKWlpaenp+Hh4QMDA7a2tlNTU5GRkampqXZ2drW1tX19fdvb24uLi19fX3Fxcc/Pz/v7+0FBQd7e3mVlZZWVlbe3t1VVVc7Ozo+Pj/Ly8rOzs9zc3PT09F5eXjMzMzk5OU5OTjc3N8XFxW1tbWpqasHBwWtra4CAgFhYWI2NjQQEBAYGBlJSUgwMDAsLC4eHh2NjY01NTYqKinl5eYaGhgcHB0tLSwUFBUBAQBgYGO7u7szMzDQ0NK+vryQkJBAQEMTExOrq6ggICD4+Pnh4eCgoKBcXF1RUVGBgYDo6OrCwsKKiotPT02FhYZSUlMvLy6CgoCcnJ6GhoSMjIxISEoODg4KCgkNDQ4WFha2trUVFRYGBgTs7O25ubl1dXUxMTC8vL5mZmVlZWVpaWmlpaZiYmHV1dWxsbBQUFH9/f66urh0dHQ4ODh8fHz09PcDAwGZmZi4uLsLCwjIyMpeXl56enhoaGnBwcEpKSpubmyoqKmJiYsbGxoyMjBEREQ0NDRUVFSAgICIiIj8/P6ioqJCQkCsrK5ycnCEhIQ8PDxMTEwAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4M0Y4NTM2OUQ0MUY4QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpERjIzQzNDOEQ3NjUxMUU1QUU0NDk4QTVGNEQyNzlCRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpERjIzQzNDN0Q3NjUxMUU1QUU0NDk4QTVGNEQyNzlCRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkM3RjExNzQwNzIwNjgxMTgwODNGODUzNjlENDFGOEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc3RjExNzQwNzIwNjgxMTgwODNGODUzNjlENDFGOEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5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"/>
        </div>
      ) : (
      <div className="movie">
        {movies.map((movie)=>(
          <Movie key={movie.id} title={movie.title} year={movie.year} genres={movie.genres}  summary={movie.summary} poster={movie.medium_cover_image}/>
        ))}
      </div>
      )}
    </section>
  );
}

}

export default Home;
